<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ReasoningEngine.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ReasoningEngine.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const util = require('./utilities')

class ReasoningEngine {
  /**
   * @class
   * @param {object} graph The parent Graph-class to which this ReasoningEngine belongs
   */
  constructor (graph) {
    this.graph = graph
  }

  inferPropertiesFromSuperClasses (superClasses) {
    const result = []
    for (let s = 0; s &lt; superClasses.length; s++) {
      let superClassObj = this.graph.classes[superClasses[s]]
      if (superClassObj === undefined) {
        superClassObj = this.graph.enumerations[superClasses[s]]
      }
      if (superClassObj !== undefined) {
        result.push(...superClassObj['soa:hasProperty'])
        if (superClassObj['rdfs:subClassOf'].length !== 0) {
          result.push(...this.inferPropertiesFromSuperClasses(superClassObj['rdfs:subClassOf']))
        }
      }
    }
    return util.uniquifyArray(result)
  }

  inferImplicitSuperClasses (classIRI) {
    let classObj = this.graph.classes[classIRI]
    let result = []
    if (classObj === undefined) {
      classObj = this.graph.enumerations[classIRI]
    }
    if (classObj !== undefined) {
      result.push(...classObj['rdfs:subClassOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          let parentClassObj = this.graph.classes[addition[i]]
          if (parentClassObj === undefined) {
            parentClassObj = this.graph.enumerations[addition[i]]
          }
          if (parentClassObj !== undefined) {
            newAddition.push(...parentClassObj['rdfs:subClassOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
    }
    return result
  }

  inferImplicitSubClasses (classIRI) {
    let classObj = this.graph.classes[classIRI]
    let result = []
    if (classObj === undefined) {
      classObj = this.graph.enumerations[classIRI]
    }
    if (classObj !== undefined) {
      result.push(...classObj['soa:superClassOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          let parentClassObj = this.graph.classes[addition[i]]
          if (parentClassObj === undefined) {
            parentClassObj = this.graph.enumerations[addition[i]]
          }
          if (parentClassObj !== undefined) {
            newAddition.push(...parentClassObj['soa:superClassOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
      return result
    }
    return result
  }

  inferImplicitSuperDataTypes (dataTypeIRI) {
    const dataTypeObj = this.graph.dataTypes[dataTypeIRI]
    let result = []
    if (dataTypeObj !== undefined) {
      result.push(...dataTypeObj['rdfs:subClassOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          const parentDataTypeObj = this.graph.dataTypes[addition[i]]
          if (parentDataTypeObj !== undefined) {
            newAddition.push(...parentDataTypeObj['rdfs:subClassOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
    }
    return result
  }

  inferImplicitSubDataTypes (dataTypeIRI) {
    const dataTypeObj = this.graph.dataTypes[dataTypeIRI]
    let result = []
    if (dataTypeObj !== undefined) {
      result.push(...dataTypeObj['soa:superClassOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          const childDataTypeObj = this.graph.dataTypes[addition[i]]
          if (childDataTypeObj !== undefined) {
            newAddition.push(...childDataTypeObj['soa:superClassOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
    }
    return result
  }

  inferSubProperties (propertyIRI) {
    const propertyObj = this.graph.properties[propertyIRI]
    let result = []
    if (propertyObj !== undefined) {
      result.push(...propertyObj['soa:superPropertyOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          const parentPropertyObj = this.graph.properties[addition[i]]
          if (parentPropertyObj !== undefined) {
            newAddition.push(...parentPropertyObj['soa:superPropertyOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
    }
    return result
  }

  inferSuperProperties (propertyIRI) {
    const propertyObj = this.graph.properties[propertyIRI]
    let result = []
    if (propertyObj !== undefined) {
      result.push(...propertyObj['rdfs:subPropertyOf'])
      let addition = util.copByVal(result) // make a copy
      do {
        let newAddition = []
        for (let i = 0; i &lt; addition.length; i++) {
          const parentPropertyObj = this.graph.properties[addition[i]]
          if (parentPropertyObj !== undefined) {
            newAddition.push(...parentPropertyObj['rdfs:subPropertyOf'])
          }
        }
        newAddition = util.uniquifyArray(newAddition)
        addition = util.copByVal(newAddition)
        result.push(...newAddition)
      } while (addition.length !== 0)
      result = util.uniquifyArray(result)
    }
    return result
  }
}

module.exports = ReasoningEngine
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Class.html">Class</a></li><li><a href="DataType.html">DataType</a></li><li><a href="Enumeration.html">Enumeration</a></li><li><a href="EnumerationMember.html">EnumerationMember</a></li><li><a href="Graph.html">Graph</a></li><li><a href="Property.html">Property</a></li><li><a href="ReasoningEngine.html">ReasoningEngine</a></li><li><a href="SDOAdapter.html">SDOAdapter</a></li></ul><h3>Global</h3><ul><li><a href="global.html#applyFilter">applyFilter</a></li><li><a href="global.html#copByVal">copByVal</a></li><li><a href="global.html#curateVocabNode">curateVocabNode</a></li><li><a href="global.html#generateContext">generateContext</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#preProcessVocab">preProcessVocab</a></li><li><a href="global.html#toAbsoluteIRI">toAbsoluteIRI</a></li><li><a href="global.html#toCompactIRI">toCompactIRI</a></li><li><a href="global.html#uniquifyArray">uniquifyArray</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jan 14 2020 16:04:41 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
